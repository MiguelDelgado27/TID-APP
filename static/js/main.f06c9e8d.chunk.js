(window["webpackJsonpquiz-app"]=window["webpackJsonpquiz-app"]||[]).push([[0],{170:function(e,t,n){e.exports=n.p+"static/media/code.60b1b385.png"},191:function(e,t,n){e.exports=n(336)},336:function(e,t,n){"use strict";n.r(t);for(var a=n(0),r=n.n(a),i=n(42),o=n.n(i),l=(n(196),n(22)),c=n(23),s=n(27),u=n(24),m=n(16),d=n(28),h=n(347),p=n(348),f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={promptEvent:null,appAccepted:!1},window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),n.setState({promptEvent:e})}),n.installApp=n.installApp.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"installApp",value:function(){var e=this,t=this.state.promptEvent;t.prompt(),t.userChoice.then(function(t){"accepted"===t.outcome&&e.setState({appAccepted:!0})})}},{key:"render",value:function(){var e=this.state,t=e.promptEvent,n=e.appAccepted,a=!1;return(window.matchMedia("(display-mode: standalone)").matches||n)&&(a=!0),r.a.createElement(h.a,{stackable:!0,inverted:!0,size:"massive"},r.a.createElement(h.a.Item,null,r.a.createElement("h1",{style:{color:"#2185D0",cursor:"pointer"}},"The Scrum App")),t&&!a&&r.a.createElement(h.a.Menu,{position:"right"},r.a.createElement(h.a.Item,null,r.a.createElement(p.a,{color:"teal",content:"Install App",size:"big",icon:"app store",labelPosition:"left",onClick:this.installApp}))))}}]),t}(a.Component),b=n(169),E=n(340),v=n(350),k=n(343),g=n(341),w=n(170),A=n.n(w),T=n(344),y=function(e){var t=e.name,n=e.text,a=e.options,i=e.onChange;return r.a.createElement(T.a,{fluid:!0,selection:!0,placeholder:n,options:a,onChange:function(e,n){var a=n.value;return i(t,a)}})},C=[],O=1;O<=50;O++){var z={key:O,text:"".concat(O),value:O};C.push(z)}for(var j=C,S=[],Q=1;Q<=60;Q++){var I={key:Q,text:"".concat(Q),value:Q};S.push(I)}var q=S,x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={category:null,numOfQ:null,difficulty:null,type:null,time:null},n.setValue=n.setValue.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setValue",value:function(e,t){this.setState(Object(b.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.state,n=(t.category,t.numOfQ),a=(t.difficulty,t.type,t.time),i=!1,o=null;return n&&a&&(i=!0,o={numOfQ:n,time:a}),r.a.createElement(E.a,null,r.a.createElement(v.a,null,r.a.createElement(k.a.Group,{divided:!0},r.a.createElement(k.a,null,r.a.createElement(k.a.Image,{src:A.a}),r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,r.a.createElement("h1",null,"Open Trivia Questions")),r.a.createElement("br",null),r.a.createElement(g.a,null),r.a.createElement(k.a.Meta,null,r.a.createElement(y,{name:"numOfQ",text:"Select No. of Questions",options:j,onChange:this.setValue}),r.a.createElement("br",null),r.a.createElement(y,{name:"time",text:"Select Countdown Time (In Minutes)",options:q,onChange:this.setValue})),r.a.createElement(g.a,null),r.a.createElement(k.a.Extra,null,i?r.a.createElement(p.a,{primary:!0,content:"Start Quiz",onClick:function(){return e.props.startQuiz(o)},size:"big",icon:"play",labelPosition:"right"}):r.a.createElement(p.a,{disabled:!0,primary:!0,content:"Start Quiz",size:"big",icon:"play",labelPosition:"right"})))))),r.a.createElement("br",null))}}]),t}(a.Component),P=n(346),D=n(56),H=function(e){var t=e.text;return r.a.createElement(E.a,null,r.a.createElement(P.a,{icon:!0,size:"big"},r.a.createElement(D.a,{name:"circle notched",loading:!0}),r.a.createElement(P.a.Content,null,r.a.createElement(P.a.Header,null,"Just one second"),t||"We are fetching that content for you.")))},N=n(89),M=n(349),L=n(52),R=n.n(L),U=function(e){return{hours:("0"+Math.floor(e/36e5%60)).slice(-2),minutes:("0"+Math.floor(e/6e4%60)).slice(-2),seconds:("0"+Math.floor(e/1e3%60)%60).slice(-2)}},_=function(e){var t=e.totalQuestions,n=e.correctAnswers,a=e.timeTakesToComplete,i=e.retakeQuiz,o=e.backToHome,l=Number((100*n/t).toFixed(2)),c=function(e){var t=parseInt(e),n=null;return t>=97?n="A+":t>=93&&t<=96?n="A":t>=90&&t<=92?n="A-":t>=87&&t<=89?n="B+":t>=83&&t<=86?n="B":t>=80&&t<=82?n="B-":t>=77&&t<=79?n="C+":t>=73&&t<=76?n="C":t>=70&&t<=72?n="C-":t>=67&&t<=69?n="D+":t>=63&&t<=66?n="D":t>=60&&t<=62?n="D-":t<60&&(n="F"),{grade:n,remarks:e>=60?"Congratulations, YOU PASSED!":"Sorry, YOU FAILED!"}}(l),s=c.grade,u=c.remarks,m=U(a.totalTime-a.timerTime),d=m.hours,h=m.minutes,f=m.seconds;return r.a.createElement(v.a,null,r.a.createElement(M.a,{as:"h1",textAlign:"center",block:!0},u),r.a.createElement(M.a,{as:"h2",textAlign:"center",block:!0},"Grade: ",s),r.a.createElement(M.a,{as:"h3",textAlign:"center",block:!0},"Total Questions: ",t),r.a.createElement(M.a,{as:"h3",textAlign:"center",block:!0},"Correct Answers: ",n),r.a.createElement(M.a,{as:"h3",textAlign:"center",block:!0},"Your Score: ",l,"%"),r.a.createElement(M.a,{as:"h3",textAlign:"center",block:!0},"Passing Score: 60%"),r.a.createElement(M.a,{as:"h3",textAlign:"center",block:!0},"Time Takes: ","".concat(d," : ").concat(h," : ").concat(f)),r.a.createElement("div",{style:{marginTop:35}},r.a.createElement(p.a,{primary:!0,content:"Retake Quiz",onClick:i,size:"big",icon:"redo",labelPosition:"right",style:{marginRight:15,marginBottom:8}}),r.a.createElement(p.a,{color:"teal",content:"Back to Home",onClick:o,size:"big",icon:"home",labelPosition:"right",style:{marginBottom:8}})))},B=n(345),W=function(e){var t=e.questionsAndAnswers;return r.a.createElement(B.a,{celled:!0,striped:!0},r.a.createElement(B.a.Header,null,r.a.createElement(B.a.Row,null,r.a.createElement(B.a.HeaderCell,null,"No."),r.a.createElement(B.a.HeaderCell,null,"Questions"),r.a.createElement(B.a.HeaderCell,null,"Your Answers"),r.a.createElement(B.a.HeaderCell,null,"Correct Answers"),r.a.createElement(B.a.HeaderCell,null,"Points"))),r.a.createElement(B.a.Body,null,t.map(function(e,t){return r.a.createElement(B.a.Row,{key:t+1},r.a.createElement(B.a.Cell,null,t+1),r.a.createElement(B.a.Cell,null,e.question),r.a.createElement(B.a.Cell,null,e.user_answer),r.a.createElement(B.a.Cell,null,e.correct_answer),r.a.createElement(B.a.Cell,null,e.point))})))},G=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={activeTab:"Stats"},n.handleTabClick=n.handleTabClick.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleTabClick",value:function(e,t){var n=t.name;this.setState({activeTab:n})}},{key:"render",value:function(){var e=this.state.activeTab,t=this.props,n=t.totalQuestions,a=t.correctAnswers,i=t.timeTakesToComplete,o=t.questionsAndAnswers,l=t.retakeQuiz,c=t.backToHome;return r.a.createElement(E.a,null,r.a.createElement(h.a,{fluid:!0,widths:2},r.a.createElement(h.a.Item,{name:"Stats",active:"Stats"===e,onClick:this.handleTabClick}),r.a.createElement(h.a.Item,{name:"Q / A",active:"Q / A"===e,onClick:this.handleTabClick})),"Stats"===e&&r.a.createElement(_,{totalQuestions:n,correctAnswers:a,timeTakesToComplete:i,retakeQuiz:l,backToHome:c}),"Q / A"===e&&r.a.createElement(W,{questionsAndAnswers:o}),r.a.createElement("br",null))}}]),t}(a.Component),V=n(342),Y=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e));var a=6e4*e.countdownTime;return n.state={timerStart:0,timerTime:a,totalTime:a},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"startTimer",value:function(){var e=this;this.timer=setInterval(function(){var t=e.state.timerTime-1e3;t>=0?e.setState({timerTime:t}):(clearInterval(e.timer),R.a.fire({title:"YOUR TIME IS UP",type:"info",timer:5e3,onClose:function(){e.props.timesUp()}}))},1e3)}},{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer);var e=this.state,t=e.timerTime,n=e.totalTime;this.props.timeAmount(t,n)}},{key:"render",value:function(){var e=this.state.timerTime,t=U(e),n=t.hours,a=t.minutes,i=t.seconds;return r.a.createElement(p.a.Group,{size:"massive",basic:!0,floated:"right"},r.a.createElement(V.a,{content:"Hours",trigger:r.a.createElement(p.a,{active:!0},n),position:"bottom left"}),r.a.createElement(V.a,{content:"Minutes",trigger:r.a.createElement(p.a,{active:!0},a),position:"bottom left"}),r.a.createElement(V.a,{content:"Seconds",trigger:r.a.createElement(p.a,{active:!0},i),position:"bottom left"}))}}]),t}(a.Component),F=function(){return r.a.createElement(E.a,null,r.a.createElement(v.a,{placeholder:!0},r.a.createElement(M.a,{icon:!0},r.a.createElement(D.a,{name:"unlink"}),r.a.createElement("br",null),"It looks like you're offline, Please check your internet connection.")))},J=n(57),$=n.n(J),K=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},X=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={quizData:null,isLoading:!0,questionIndex:0,correctAnswers:0,userSlectedAns:null,quizIsCompleted:!1,questionsAndAnswers:[],isOffline:!1},n.timeTakesToComplete=void 0,n.setData=n.setData.bind(Object(m.a)(n)),n.handleItemClick=n.handleItemClick.bind(Object(m.a)(n)),n.handleNext=n.handleNext.bind(Object(m.a)(n)),n.timesUp=n.timesUp.bind(Object(m.a)(n)),n.timeAmount=n.timeAmount.bind(Object(m.a)(n)),n.renderResult=n.renderResult.bind(Object(m.a)(n)),n.retakeQuiz=n.retakeQuiz.bind(Object(m.a)(n)),n.startNewQuiz=n.startNewQuiz.bind(Object(m.a)(n)),n.resolveError=n.resolveError.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.API;fetch(t).then(function(e){return e.json()}).then(function(t){return setTimeout(function(){return e.setData(t)},1e3)}).catch(function(t){return setTimeout(function(){return e.resolveError(t)},1e3)})}},{key:"resolveError",value:function(e){navigator.onLine,this.setState({isOffline:!0})}},{key:"setData",value:function(e){var t=this;if(0===e.length){return R.a.fire({title:"Oops...",html:"The API doesn't have enough questions for your query<br />(ex. Asking for 50 questions in a category that only has 20).<br /><br />Please change number of questions, difficulty level or type of questions.",type:"error",timer:1e4,onClose:function(){t.props.backToHome()}})}var n=e,a=this.state.questionIndex,r=K(0,3),i=Object(N.a)(n[a].incorrect_answers);i.splice(r,0,n[a].correct_answer),this.setState({quizData:n,isLoading:!1,options:i,outPut:r})}},{key:"handleItemClick",value:function(e,t){var n=t.name;this.setState({userSlectedAns:n})}},{key:"handleNext",value:function(){var e=this.state,t=e.userSlectedAns,n=e.quizData,a=e.questionIndex,r=e.correctAnswers,i=e.questionsAndAnswers,o=0;if(t===$.a.decode(n[a].correct_answer)&&(o=1),i.push({question:$.a.decode(n[a].question),user_answer:t,correct_answer:$.a.decode(n[a].correct_answer),point:o}),a!==n.length-1){var l=K(0,3),c=Object(N.a)(n[a+1].incorrect_answers);c.splice(l,0,n[a+1].correct_answer),this.setState({correctAnswers:r+o,questionIndex:a+1,userSlectedAns:null,options:c,outPut:l,questionsAndAnswers:i})}else this.setState({correctAnswers:r+o,userSlectedAns:null,isLoading:!0,quizIsCompleted:!0,questionIndex:0,options:null,questionsAndAnswers:i})}},{key:"timesUp",value:function(){this.setState({userSlectedAns:null,isLoading:!0,quizIsCompleted:!0,questionIndex:0,options:null})}},{key:"timeAmount",value:function(e,t){this.timeTakesToComplete={timerTime:e,totalTime:t}}},{key:"renderResult",value:function(){var e=this;setTimeout(function(){var t=e.state,n=t.quizData,a=t.correctAnswers,i=t.questionsAndAnswers,o=e.props.backToHome,l=r.a.createElement(G,{totalQuestions:n.length,correctAnswers:a,timeTakesToComplete:e.timeTakesToComplete,questionsAndAnswers:i,retakeQuiz:e.retakeQuiz,backToHome:o});e.setState({resultRef:l,questionsAndAnswers:[]})},2e3)}},{key:"retakeQuiz",value:function(){var e=this.state,t=e.quizData,n=e.questionIndex,a=K(0,3),r=Object(N.a)(t[n].incorrect_answers);r.splice(a,0,t[n].correct_answer),this.setState({correctAnswers:0,quizIsCompleted:!1,startNewQuiz:!0,options:r,outPut:a})}},{key:"startNewQuiz",value:function(){var e=this;setTimeout(function(){e.setState({isLoading:!1,startNewQuiz:!1,resultRef:null})},1e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.quizData,a=t.questionIndex,i=t.options,o=t.userSlectedAns,l=t.isLoading,c=t.quizIsCompleted,s=t.resultRef,u=t.startNewQuiz,m=t.isOffline;return c&&!s&&this.renderResult(),u&&this.startNewQuiz(),r.a.createElement(k.a.Header,null,!m&&!c&&l&&r.a.createElement(H,null),!m&&!l&&r.a.createElement(E.a,null,r.a.createElement(v.a,null,r.a.createElement(k.a.Group,{divided:!0},r.a.createElement(k.a,null,r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Extra,null,r.a.createElement(M.a,{as:"h1",block:!0,floated:"left"},r.a.createElement(D.a,{name:"info circle"}),r.a.createElement(M.a.Content,null,"Question No.".concat(a+1," of ").concat(n.length))),r.a.createElement(Y,{countdownTime:this.props.countdownTime,timesUp:this.timesUp,timeAmount:this.timeAmount})),r.a.createElement("br",null),r.a.createElement(k.a.Meta,null,r.a.createElement(P.a,{size:"huge",floating:!0},r.a.createElement("b",null,"Q. ".concat($.a.decode(n[a].question)))),r.a.createElement("br",null),r.a.createElement(k.a.Description,null,r.a.createElement("h3",null,"Please choose one of the following answers:")),r.a.createElement(g.a,null),r.a.createElement(h.a,{vertical:!0,fluid:!0,size:"massive"},i.map(function(t,n){var a;switch(n){case 0:a="A.";break;case 1:a="B.";break;case 2:a="C.";break;case 3:a="D.";break;default:a=n}var i=$.a.decode(t);return r.a.createElement(h.a.Item,{key:i,name:i,active:o===i,onClick:e.handleItemClick},r.a.createElement("b",{style:{marginRight:"8px"}},a),i)}))),r.a.createElement(g.a,null),r.a.createElement(k.a.Extra,null,o?r.a.createElement(p.a,{primary:!0,content:"Next",onClick:this.handleNext,floated:"right",size:"big",icon:"right chevron",labelPosition:"right"}):r.a.createElement(p.a,{disabled:!0,primary:!0,content:"Next",floated:"right",size:"big",icon:"right chevron",labelPosition:"right"})))))),r.a.createElement("br",null)),c&&!s&&r.a.createElement(H,{text:"Getting your result."}),c&&s,m&&r.a.createElement(F,null))}}]),t}(a.Component),Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isQuizStart:!1,API:null,countdownTime:null,isLoading:!1},n.startQuiz=n.startQuiz.bind(Object(m.a)(n)),n.backToHome=n.backToHome.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"startQuiz",value:function(e){var t=e.numOfQ,n=e.time,a="https://us-central1-scrum-test-463d7.cloudfunctions.net/app/api/read/"+t;this.setState({isQuizStart:!0,API:a,countdownTime:n})}},{key:"backToHome",value:function(){var e=this;this.setState({isLoading:!0}),setTimeout(function(){e.setState({isQuizStart:!1,API:null,countdownTime:null,isLoading:!1})},1e3)}},{key:"render",value:function(){var e=this.state,t=e.isQuizStart,n=e.API,i=e.countdownTime,o=e.isLoading;return r.a.createElement(a.Fragment,null,r.a.createElement(f,null),!o&&!t&&r.a.createElement(x,{startQuiz:this.startQuiz}),!o&&t&&r.a.createElement(X,{API:n,countdownTime:i,backToHome:this.backToHome}),o&&r.a.createElement(H,null))}}]),t}(a.Component),ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):(R.a.fire({toast:"true",position:"bottom",type:"success",title:"App is ready to work offline.",showConfirmButton:!1,timer:6e3}),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(Z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/TID-APP",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/TID-APP","/service-worker.js");ee?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):te(e,t)}).catch(function(){})}(t,e),navigator.serviceWorker.ready.then(function(){})):te(t,e)})}}()}},[[191,1,2]]]);
//# sourceMappingURL=main.f06c9e8d.chunk.js.map